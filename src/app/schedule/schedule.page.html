<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>
      Mi Horario
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Mi Horario</ion-title>
    </ion-toolbar>
  </ion-header>

  @if (horarioAgrupado$ | async; as horarioAgrupado) {
    @if (horarioAgrupado.size > 0) {
      <!-- Usamos el pipe 'keyvalue' para iterar sobre el mapa de horarios -->
      @for (day of horarioAgrupado | keyvalue; track day.key) {
        <ion-list-header>
          <ion-label>{{ day.key }}</ion-label>
        </ion-list-header>
        <ion-list [inset]="true">
          @for (item of day.value; track item.id) {
            <ion-item>
              <ion-icon name="time-outline" slot="start" color="primary"></ion-icon>
              <ion-label>
                <h2>{{ item.nombreCurso }}</h2>
                <p>{{ item.horaInicio }} - {{ item.horaFin }}</p>
                <p>Aula: {{ item.aula }}</p>
              </ion-label>
            </ion-item>
          }
        </ion-list>
      }
    } @else {
      <!-- Mensaje para cuando el horario está vacío -->
      <div class="ion-text-center ion-padding">
        <p>No tienes un horario asignado todavía.</p>
      </div>
    }
  } @else {
    <!-- Estado de carga inicial -->
    <div class="ion-text-center ion-padding">
      <ion-spinner name="crescent"></ion-spinner>
    </div>
  }

</ion-content>
